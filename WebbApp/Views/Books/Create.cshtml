@model Gravity.Models.ViewModels.BookCreateViewModel

@{
ViewBag.Title = "Dodaj książkę";
Layout = "_Layout";
}

<h2>Dodaj książkę</h2>

<form asp-action="Create" method="post">
    <div asp-validation-summary="All" class="text-danger"></div>

    <div class="form-group">
        <label asp-for="Title" class="control-label"></label>
        <input asp-for="Title" class="form-control" />
        <span asp-validation-for="Title" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="Isbn13" class="control-label"></label>
        <input asp-for="Isbn13" class="form-control" />
        <span asp-validation-for="Isbn13" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="NumPages" class="control-label"></label>
        <input asp-for="NumPages" class="form-control" />
        <span asp-validation-for="NumPages" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="PublicationDate" class="control-label"></label>
        <input asp-for="PublicationDate" class="form-control" type="date" />
        <span asp-validation-for="PublicationDate" class="text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="SelectedAuthorIds" class="control-label">Autorzy</label>
        <select asp-for="SelectedAuthorIds" asp-items="Model.AuthorsList" class="form-control" multiple="multiple" id="authorsSelect">
        </select>
        <span asp-validation-for="SelectedAuthorIds" class="text-danger"></span>
    </div>
    <div class="form-group mt-3 text-end">
        <!-- Przycisk "Dodaj" -->
        <input type="submit" value="Dodaj" class="btn btn-primary me-2" />

        <!-- Przycisk "Powrót do listy" -->
        <a asp-action="Index" class="btn btn-secondary">Powrót do listy</a>
    </div>

</form>

@section Scripts {
@{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

<!-- Dodanie Select2 -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
    $(document).ready(function () {
        $('#authorsSelect').select2({
            placeholder: "Wybierz autorów",
            allowClear: true
        });
    });
</script>
}
